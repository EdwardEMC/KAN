(this.webpackJsonpkan=this.webpackJsonpkan||[]).push([[0],{126:function(e,t){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),o=a(18),m=a(1),i=a(2),s=a(63),u=a(16),d=Object(n.createContext)(),p=d.Provider,E=function(e,t){switch(t.type){case"SET_USER":return Object(u.a)({},e,{user:[t.user]});default:return e}},f=function(e){e.value;var t=Object(s.a)(e,["value"]),a=Object(n.useReducer)(E,{user:[]}),c=Object(i.a)(a,2),l=c[0],o=c[1];return r.a.createElement(p,Object.assign({value:[l,o]},t))},v=a(5),g=a(6),b=a(7),h=a(8);var N=function(e){return r.a.createElement("div",{className:"wrapper"},e.children)};a(69);var y=function(){return r.a.createElement("div",{className:"text-center"},r.a.createElement(m.b,{to:"/description"},r.a.createElement("img",{id:"logoImage",src:"",alt:"KAN logo"})))},O=a(3),j=a.n(O),I=function(){return j.a.get("/api/user",{withCredentials:!0})},w=function(){return j.a.get("/api/user/id",{withCredentials:!0})},x=function(e){return j.a.get("/api/user/"+e)},k=function(e){return j.a.get("/api/topics/"+e)},C=function(e){return j.a.get("/api/comments/"+e)},T=function(){return j.a.get("/api/markers")},B=function(){return j.a.get("/api/chats")},S=function(e){return j.a.get("/api/messages/"+e)},P=function(e){return j.a.get("/logout")},U=function(e){return j.a.post("/api/login",e)},F=function(e){return j.a.post("/api/register",e)},L=function(e){return j.a.post("/api/topic",e)},M=function(e){return j.a.post("/api/topic/comment",e)},D=function(e){return j.a.post("/api/user/PoI",e)},A=function(e){return j.a.post("/api/user/chats",e)},H=function(e){return console.log(e,"CLIENT API"),j.a.post("/api/messages/",e)},q=function(e){return j.a.put("/api/user",e)},R=function(e){return j.a.put("/api/user/online",e)},z=function(){return j.a.delete("/api/user")};a(90);var _=function(){var e=Object(o.f)();return r.a.createElement("form",{className:"login"},r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email-input"},"Email"),r.a.createElement("input",{id:"email-input",className:"input form-control",type:"text",required:!0,placeholder:"john.doe@gmail.com"}),r.a.createElement("p",{id:"noEmail"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password-input"},"Password"),r.a.createElement("input",{id:"password-input",className:"input form-control",type:"password",required:!0,placeholder:"********"}),r.a.createElement("p",{id:"noPassword"})),r.a.createElement("br",null),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{onClick:function(t){t.preventDefault();var a=document.getElementById("email-input"),n=document.getElementById("password-input");I("/api/user").then((function(t){if(!t.data.find((function(e){return e.email===a.value})))return a.value="",n.value="",void(document.getElementById("errorMsg").innerHTML="Email does not exist!");var r={email:a.value.trim(),password:n.value.trim()};r.email&&r.password&&U({email:r.email,password:r.password}).then((function(e){console.log(e)})).then((function(){e.push("/profile")})).catch((function(e){return console.log(e)}))}))},className:"btn btn-success"},"Submit"),r.a.createElement("p",{className:"help",id:"errorMsg"})),r.a.createElement("div",{className:"text-center"},r.a.createElement("p",null,"Don't have a account? Sign up \xa0",r.a.createElement(m.b,{to:"/register"},"here"))))},W=(a(46),function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement(N,null,r.a.createElement("br",null),r.a.createElement(y,null),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card"},r.a.createElement("h2",{className:"text-center card-header colorHeader"},"Login"),r.a.createElement("div",{className:"card-body colorBody"},r.a.createElement(_,null)))))}}]),a}(n.Component));function G(e){console.log(e),document.getElementById("emailInUse").innerHTML="Email already in use"}var K=function(e){e.preventDefault(),document.getElementById("checked").innerHTML="";var t=document.getElementById("userName-input"),a=document.getElementById("phoneNumber-input"),n=document.getElementById("name-input"),r=document.getElementById("email-input"),c=document.getElementById("information-input"),l=document.getElementById("password-input"),o=document.getElementById("terms").checked,m={userName:t.value.trim(),email:r.value.trim(),phone:a.value.trim(),name:n.value.trim(),generalInformation:c.value.trim(),password:l.value.trim()};!1!==o?m.userName&&m.email&&m.name&&m.password&&(!function(e,t,a,n,r,c){var l={userName:e,email:t,phone:a,name:n,generalInformation:r,password:c};console.log(l),F(l).then((function(e){window.location.replace("/")})).catch(G)}(m.userName,m.email,m.phone,m.name,m.generalInformation,m.password),t.value="",r.value="",a.value="",n.value="",c.value="",l.value=""):document.getElementById("checked").innerHTML="**Please read the Terms & Conditions**"};a(91);var V=function(){return r.a.createElement("form",{className:"signup-user"},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"userName-input"},"Username"),r.a.createElement("input",{id:"userName-input",className:"input form-control",type:"text",required:!0,placeholder:"Username....."})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"email-input"},"Email"),r.a.createElement("input",{className:"input form-control",id:"email-input",type:"email",required:!0,placeholder:"alex@smith.com"}),r.a.createElement("p",{id:"emailInUse"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"phoneNumber-input"},"Phone Number"),r.a.createElement("input",{className:"input form-control",id:"phoneNumber-input",type:"number",required:!0,placeholder:"Your phone number....."})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"name-input"},"Name"),r.a.createElement("input",{id:"name-input",className:"input form-control",type:"text",required:!0,placeholder:"Name....."}),r.a.createElement("br",null))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"information-input"},"General Information"),r.a.createElement("textarea",{id:"information-input",className:"input form-control",type:"text",placeholder:"General Information....."})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{className:"label"},"Password"),r.a.createElement("input",{className:"input form-control",id:"password-input",type:"password",required:!0,placeholder:"Password....."}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"terms"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"terms"},"I have read the",r.a.createElement(m.b,{to:"/terms"},"terms & conditions")),r.a.createElement("p",{id:"checked"}))),r.a.createElement("br",null),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{onClick:K,className:"btn btn-primary"},"  ","Submit")),r.a.createElement("p",{id:"errorMsg"}),r.a.createElement("br",null),r.a.createElement("div",{className:"text-center"},r.a.createElement("p",null,"Already have an account? Login \xa0",r.a.createElement(m.b,{to:"/"},"here"))))},J=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement(N,null,r.a.createElement("br",null),r.a.createElement(y,null),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card"},r.a.createElement("h2",{className:"text-center card-header colorHeader"},"New Registration"),r.a.createElement("div",{className:"card-body colorBody"},r.a.createElement(V,null)))),r.a.createElement("br",null))}}]),a}(n.Component);a(92);var X=function(){return r.a.createElement("div",{id:"header"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-4 text-center",id:"markers"},r.a.createElement("div",{id:"online"},r.a.createElement(m.b,{to:"/mapType/setOnline"},r.a.createElement("img",{className:"markerImages",src:"/assets/HeaderIcons/online.png",alt:"online marker"}))),"\u2003 \u2003 \u2003",r.a.createElement("div",{id:"poi"},r.a.createElement(m.b,{to:"/mapType/setPoI"},r.a.createElement("img",{className:"markerImages",src:"/assets/HeaderIcons/poi.png",alt:"place of interest"})))),r.a.createElement("div",{className:"col-sm-4 text-center",id:"logo"},r.a.createElement(y,null)),r.a.createElement("div",{className:"dropdown menu col-sm-4 text-center"},r.a.createElement("button",{className:"btn btn-success dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Main Menu"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},r.a.createElement("p",{className:"dropdown-item"},r.a.createElement(m.b,{to:"/mapType/map"},"Map")),r.a.createElement("p",{className:"dropdown-item"},r.a.createElement(m.b,{to:"/forums"},"Forums")),r.a.createElement("p",{className:"dropdown-item"},r.a.createElement(m.b,{to:"/chats"},"Chats")),r.a.createElement("p",{className:"dropdown-item"},r.a.createElement(m.b,{to:"/profile"},"Profile")),r.a.createElement("p",{className:"dropdown-item"},r.a.createElement(m.b,{to:"/settings"},"Settings")),r.a.createElement("p",{className:"dropdown-item"},r.a.createElement("button",{className:"btn btn-warning",onClick:function(){P().then((function(){window.location.href="/"})).catch((function(e){console.log(e)}))}},"Log Out"))))))},Y=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement(N,null,r.a.createElement("p",null,"Description"))}}]),a}(n.Component);a(93);var $=function(e){return r.a.createElement("div",{className:"container mainWin"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header colorHeader text-center"},r.a.createElement("h3",{id:"userName"},"User Name: ",e.currentUser.userName)," "),r.a.createElement("div",{className:"card-body colorBody"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6 text-center"},r.a.createElement("img",{className:"img-fluid",src:"https://via.placeholder.com/250",alt:"profilePic"})," "),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement(m.b,{to:"/myPlaces"},r.a.createElement("h5",null,"Places of interest")),r.a.createElement("br",null),r.a.createElement(m.b,{to:"/myTopic"},r.a.createElement("h5",null,"Topics")),r.a.createElement("br",null),r.a.createElement("div",{className:"mainInfo"},r.a.createElement("h5",{className:"userInfo"},"Name: ",e.currentUser.name),r.a.createElement("br",null),r.a.createElement("h5",{className:"userInfo"},"Email: ",e.currentUser.email),r.a.createElement("br",null),r.a.createElement("h5",{className:"userInfo"},"Phone: ",e.currentUser.phone)))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"general"},r.a.createElement("h5",{className:"userInfo"},"General information:"),r.a.createElement("div",{className:"card"},r.a.createElement("textarea",{id:"generalInfo",readOnly:!0,value:e.currentUser.generalInformation})))),r.a.createElement("div",{className:"card-footer colorFooter"})),r.a.createElement("br",null))},Q=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){w().then((function(e){c(e.data)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement(N,null,r.a.createElement($,{currentUser:a}))},Z=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement(N,null,r.a.createElement("p",null,"MyPlaces"))}}]),a}(n.Component),ee=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement(N,null,r.a.createElement("p",null,"MyTopics"))}}]),a}(n.Component);a(94);var te=function(){return r.a.createElement("div",{className:"container forumPics"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 text-center"},r.a.createElement(m.b,{to:"/forums/thingstodo"},r.a.createElement("img",{className:"img-fluid",src:"/assets/ForumIcons/thingstodo.png",alt:"thingstodo"}),r.a.createElement("h5",{className:"link"},"Things To Do"))),r.a.createElement("div",{className:"col-md-4 text-center"},r.a.createElement(m.b,{to:"/forums/music"},r.a.createElement("img",{className:"img-fluid",src:"/assets/ForumIcons/music.png",alt:"music"}),r.a.createElement("h5",{className:"link"},"Music"))),r.a.createElement("div",{className:"col-md-4 text-center"},r.a.createElement(m.b,{to:"/forums/news"},r.a.createElement("img",{className:"img-fluid",src:"/assets/ForumIcons/news.png",alt:"news"}),r.a.createElement("h5",{className:"link"},"News")))),r.a.createElement("div",{className:"row secondRow"},r.a.createElement("div",{className:"col-md-4 text-center"},r.a.createElement(m.b,{to:"/forums/politics"},r.a.createElement("img",{className:"img-fluid",src:"/assets/ForumIcons/politics.png",alt:"politics"}),r.a.createElement("h5",{className:"link"},"Politics"))),r.a.createElement("div",{className:"col-md-4 text-center"},r.a.createElement(m.b,{to:"/forums/pictures"},r.a.createElement("img",{className:"img-fluid",src:"/assets/ForumIcons/pictures.png",alt:"pictures"}),r.a.createElement("h5",{className:"link"},"Pictures"))),r.a.createElement("div",{className:"col-md-4 text-center"},r.a.createElement(m.b,{to:"/forums/recipes"},r.a.createElement("img",{className:"img-fluid",src:"/assets/ForumIcons/food.png",alt:"recipes"}),r.a.createElement("h5",{className:"link"},"Recipes")))))},ae=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement(N,null,r.a.createElement(te,null))}}]),a}(n.Component),ne=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],l=window.location.href.split("forums/");return Object(n.useEffect)((function(){!function(){var e=window.location.href.split("forums/");k(e[1]).then((function(e){c(e.data)})).catch((function(e){console.log(e)}))}()}),[]),r.a.createElement(N,null,r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement(m.b,{to:"/forums/"},r.a.createElement("h5",null,"Back to Forums"))),r.a.createElement("div",{className:"col-sm-6 text-right"},r.a.createElement(m.b,{to:"/forums/"+l[1]+"/post/topic"},r.a.createElement("h5",null,"Post New Topic")))),a.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header colorHeader"},r.a.createElement("h3",null,e.title)),r.a.createElement("div",{className:"card-body colorBody"},r.a.createElement("div",null,e.description," "),r.a.createElement("br",null)),r.a.createElement("div",{className:"card-footer colorFooter"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("p",null,"Posted by: ",e.User.userName)),r.a.createElement("div",{className:"col-sm-6 text-right"},r.a.createElement(m.b,{to:{pathname:"/forums/"+l[1]+"/"+e.title,state:{topic:e}}},r.a.createElement("h5",null,"Comments")," "))))),r.a.createElement("br",null))}))))};var re=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header text-center colorHeaderComment"},r.a.createElement("h5",null,"New Comment")),r.a.createElement("div",{className:"card-body colorBodyComment"},r.a.createElement("form",{className:"posttopic"},r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{id:"description-input",className:"input form-control",type:"text",required:!0,placeholder:"Text goes here..."}),r.a.createElement("p",{id:"missingDescription"})),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{onClick:function(t){t.preventDefault(),document.getElementById("missingDescription").value="";var a=document.getElementById("description-input").value,n={description:a,topicId:e.id};""!==a?M(n).then((function(e){console.log(e),document.getElementById("description-input").value="",document.getElementById("missingDescription").value="",window.location.reload()})).catch((function(e){console.log(e)})):document.getElementById("missingDescription").innerHTML="Comment cannot be empty"},className:"btn btn-primary"},"Post Comment"))))),r.a.createElement("br",null))},ce=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)((function(){C(e.location.state.topic.id).then((function(e){l(e.data)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement(N,null,r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement(m.b,{to:"/forums/"+e.match.params.handle},r.a.createElement("h5",null,"Back"))),r.a.createElement("div",{className:"col-sm-6 text-right"}," ")),r.a.createElement("div",{key:e.location.state.topic.id},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header colorHeader"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("h3",null,e.location.state.topic.title)),r.a.createElement("div",{className:"col-sm-6 text-right"},r.a.createElement("p",null,"Posted by: ",e.location.state.topic.User.userName)))),r.a.createElement("div",{className:"card-body colorBody"},r.a.createElement("div",null,e.location.state.topic.description," "),r.a.createElement("br",null))),r.a.createElement("br",null)),r.a.createElement("div",{className:"container"},c.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header colorFooter"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("h5",null,e.User.userName)),r.a.createElement("div",{className:"col-sm-6 text-right"},r.a.createElement("p",null,"Posted at: ",e.createdAt)," "))),r.a.createElement("div",{className:"card-body colorBody"},r.a.createElement("div",null,e.description),r.a.createElement("br",null))),r.a.createElement("br",null))})),r.a.createElement("br",null),r.a.createElement(re,{id:e.location.state.topic.id}))))},le=function(){var e=Object(o.f)(),t=window.location.href.split("/post/")[0].split("/forums/");return r.a.createElement(N,null,r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement(m.b,{to:"/forums/"+t[1]},r.a.createElement("h5",null,"Back")),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header text-center"},"New Topic"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{className:"posttopic"},r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title-input"},"Title"),r.a.createElement("input",{id:"title-input",className:"input form-control",type:"text",required:!0,placeholder:"Topic title..."}),r.a.createElement("p",{id:"missingTitle"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description-input"},"Description"),r.a.createElement("textarea",{id:"description-input",className:"input form-control",type:"text",required:!0,placeholder:"Text goes here..."}),r.a.createElement("p",{id:"missingDescription"})),r.a.createElement("br",null),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{onClick:function(a){a.preventDefault(),document.getElementById("missingTitle").innerHTML="",document.getElementById("missingDescription").innerHTML="";var n={title:document.getElementById("title-input").value,description:document.getElementById("description-input").value,category:t[1]};""!==n.title&&"Topic needs title"!==n.title?""!==n.description&&"Topic needs description"!==n.description?L(n).then((function(a){console.log(a),e.push("/forums/"+t[1])})).catch((function(e){console.log(e)})):document.getElementById("missingDescription").innerHTML="Topic needs description":document.getElementById("missingTitle").innerHTML="Topic needs title"},className:"btn btn-primary"},"Submit")))))))};a(95);var oe=function(e){var t=Object(o.f)();return r.a.createElement("div",{className:"container mainWin"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header colorHeader text-center"},r.a.createElement("h3",{id:"userName"},"User Name: ",e.currentUser.userName)," "),r.a.createElement("div",{className:"card-body colorBody"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6 text-center"},r.a.createElement("img",{className:"img-fluid",src:"https://via.placeholder.com/250",alt:"profilePic"})," "),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("button",{onClick:function(a){var n={currentUser:e.currentUser};A(n).then((function(e){console.log(e),t.push("/chats")})).catch((function(e){console.log(e)}))}},"Start Chatting"),r.a.createElement("br",null),r.a.createElement("div",{className:"mainInfo"},r.a.createElement("h5",{className:"userInfo"},"Name: ",e.currentUser.name),r.a.createElement("br",null),r.a.createElement("h5",{className:"userInfo"},"Email: ",e.currentUser.email),r.a.createElement("br",null),r.a.createElement("h5",{className:"userInfo"},"Phone: ",e.currentUser.phone)))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"general"},r.a.createElement("h5",{className:"userInfo"},"General information:"),r.a.createElement("div",{className:"card"},r.a.createElement("textarea",{id:"generalInfo",readOnly:!0,value:e.currentUser.generalInformation})))),r.a.createElement("div",{className:"card-footer colorFooter"})),r.a.createElement("br",null))},me=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],l=window.location.href.split("profile/");return Object(n.useEffect)((function(){x(l[1]).then((function(e){c(e.data)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement(N,null,r.a.createElement(oe,{currentUser:a}))},ie=a(9),se=a(17),ue="/assets/CategoryIcons/",de=function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!1),s=Object(i.a)(o,2),d=s[0],p=s[1],E=Object(n.useState)({}),f=Object(i.a)(E,2),v=f[0],g=f[1],b=Object(n.useState)(),h=Object(i.a)(b,2),N=h[0],y=h[1],O=e.value;Object(n.useEffect)((function(){j()}),[]);var j=function(){T().then((function(e){y(e.data)})).catch((function(e){console.log(e)}))},I=function(e,t,a){return r.a.createElement(ie.d,{key:e.lat,position:{lat:parseFloat(e.lat),lng:parseFloat(e.lng)},onLoad:function(t){return function(e,t){return g((function(a){return Object(u.a)({},a,Object(se.a)({},t.lat,e))}))}(t,e)},onClick:function(t){return function(e,t){l(t),d&&p(!1),p(!0)}(0,e)},clusterer:t,icon:a})};return N?r.a.createElement(n.Fragment,null,r.a.createElement(ie.e,null,(function(e){return N.map((function(t){switch(O){case"all":if(t.userName){return I(t,e,"/assets/UserIcons/online.png")}var a=ue+t.category+".png";return I(t,e,a);case"users":if(t.userName){return I(t,e,"/assets/UserIcons/online.png")}break;case"poi":if(t.category){var n=ue+t.category+".png";return I(t,e,n)}break;case O:if(t.category===O){var r=ue+t.category+".png";return I(t,e,r)}break;default:return!1}return!0}))})),d&&c&&r.a.createElement(ie.b,{anchor:v[c.lat],onCloseClick:function(){return p(!1)}},r.a.createElement("div",null,c.userName?r.a.createElement(m.b,{to:"/profile/"+c.userName},"Go To Profile"):null,r.a.createElement("h4",null,c.title||c.userName),r.a.createElement("div",null,c.description||c.generalInformation)))):r.a.createElement(ie.d,null)},pe=function(){var e=Object(o.f)(),t=Object(n.useState)(null),a=Object(i.a)(t,2),c=a[0],l=a[1],m=Object(n.useState)(!1),s=Object(i.a)(m,2),d=s[0],p=s[1],E=Object(n.useState)({}),f=Object(i.a)(E,2),v=f[0],g=f[1],b=Object(n.useState)(),h=Object(i.a)(b,2),N=h[0],y=h[1];Object(n.useEffect)((function(){O()}),[]);var O=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){y({lat:e.coords.latitude,lng:e.coords.longitude,zoom:10})}),y({lat:-33.8688,lng:151.2093,zoom:3})):y({lat:-33.8688,lng:151.2093})},j={id:"OnlineMarker",pos:N};return r.a.createElement(n.Fragment,null,r.a.createElement(ie.d,{key:j.id,position:j.pos,onLoad:function(e){return function(e,t){return g((function(a){return Object(u.a)({},a,Object(se.a)({},t.id,e))}))}(e,j)},onClick:function(e){return function(e,t){l(t),d&&p(!1),p(!0)}(0,j)},draggable:!0,onDragEnd:function(e){return y({lat:e.latLng.lat(),lng:e.latLng.lng()})}}),d&&c&&r.a.createElement(ie.b,{anchor:v[c.id],onCloseClick:function(){return p(!1)}},r.a.createElement("div",null,r.a.createElement("h3",{className:"text-center"},"Set Marker Here?"),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{className:"btn btn-success",onClick:function(){var t={lat:j.pos.lat,lng:j.pos.lng};R(t).then((function(t){e.push("/mapType/map")})).catch((function(e){console.log(e)}))}},"Go Online")))))},Ee=function(){var e=Object(o.f)(),t=Object(n.useState)(null),a=Object(i.a)(t,2),c=a[0],l=a[1],m=Object(n.useState)(!1),s=Object(i.a)(m,2),d=s[0],p=s[1],E=Object(n.useState)({}),f=Object(i.a)(E,2),v=f[0],g=f[1],b=Object(n.useState)(),h=Object(i.a)(b,2),N=h[0],y=h[1];Object(n.useEffect)((function(){O()}),[]);var O=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){y({lat:e.coords.latitude,lng:e.coords.longitude,zoom:10})}),y({lat:-33.8688,lng:151.2093,zoom:3})):y({lat:-33.8688,lng:151.2093})},j={id:"OnlineMarker",pos:N};return r.a.createElement(n.Fragment,null,r.a.createElement(ie.d,{key:j.id,position:j.pos,onLoad:function(e){return function(e,t){return g((function(a){return Object(u.a)({},a,Object(se.a)({},t.id,e))}))}(e,j)},onClick:function(e){return function(e,t){l(t),d&&p(!1),p(!0)}(0,j)},draggable:!0,onDragEnd:function(e){return y({lat:e.latLng.lat(),lng:e.latLng.lng()})}}),d&&c&&r.a.createElement(ie.b,{anchor:v[c.id],onCloseClick:function(){return p(!1)}},r.a.createElement("div",null,r.a.createElement("div",{className:"text-center"},r.a.createElement("form",{className:"setPoIMarker"},r.a.createElement("label",{htmlFor:"title-input"},r.a.createElement("h5",null,"Title")),r.a.createElement("input",{id:"title-input",className:"input form-control",type:"text",required:!0,placeholder:"Title...."}),r.a.createElement("label",{htmlFor:"description-input"},r.a.createElement("h5",null,"Description")),r.a.createElement("textarea",{className:"input form-control",id:"description-input",type:"text",required:!0,placeholder:"Description...."}),r.a.createElement("label",{htmlFor:"category-input"},r.a.createElement("h5",null,"Category")),r.a.createElement("select",{id:"category-input",className:"input form-control",required:!0},r.a.createElement("option",null,"Food"),r.a.createElement("option",null,"Park"),r.a.createElement("option",null,"Shop"),r.a.createElement("option",null,"View Point")),r.a.createElement("br",null),r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{className:"btn btn-success",onClick:function(t){t.preventDefault();var a={title:document.getElementById("title-input").value,description:document.getElementById("description-input").value,category:document.getElementById("category-input").value.replace(/ +/g,""),lat:j.pos.lat,lng:j.pos.lng};D(a).then((function(t){e.push("/mapType/map")})).catch((function(e){console.log(e)}))}},"Place Marker"))),r.a.createElement("br",null))))))},fe=(a(96),function(){var e,t=Object(n.useState)(),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)("all"),m=Object(i.a)(o,2),s=m[0],u=m[1];Object(n.useEffect)((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){l({lat:e.coords.latitude,lng:e.coords.longitude,zoom:10})}),l({lat:-33.8688,lng:151.2093,zoom:3})):l({lat:-33.8688,lng:151.2093})}),[]);var d=function(t){return e=t},p=function(){return e&&l({lat:e.center.lat(),lng:e.center.lng()})},E=window.location.href.split("/mapType/");return"map"===E[1]?r.a.createElement("div",{id:"main"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("select",{id:"selectionTab",onChange:function(){var e=document.getElementById("selectionTab").value;u(e)}},r.a.createElement("option",{value:"all"},"All"),r.a.createElement("option",{value:"users"},"Users"),r.a.createElement("option",{value:"poi"},"Points of Interest"),r.a.createElement("option",{value:"Food"},"- Food"),r.a.createElement("option",{value:"Shop"},"- Shops"),r.a.createElement("option",{value:"Park"},"- Parks"),r.a.createElement("option",{value:"ViewPoint"},"- View Points"))),r.a.createElement(ie.a,{id:"map",zoom:10,center:c,onLoad:d,onCenterChanged:p},r.a.createElement(de,{value:s}))):"setOnline"===E[1]?r.a.createElement(ie.a,{id:"map",zoom:10,center:c,onLoad:d,onCenterChanged:p},r.a.createElement(pe,null)):"setPoI"===E[1]?r.a.createElement(ie.a,{id:"map",zoom:10,center:c,onLoad:d,onCenterChanged:p},r.a.createElement(Ee,null)):void 0}),ve=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement(ie.c,{id:"script-loader",googleMapsApiKey:"AIzaSyCPo2a9WyXNAIwuMBgu8AXuCatBsc17TSo"},r.a.createElement(fe,null))}}]),a}(n.Component);a(97);var ge=function(e){return r.a.createElement("div",{className:"row outline pointer",value:e.user.chatName,"data-id":e.user.id,onClick:e.onClick},r.a.createElement("div",{className:"card-title text-center pointer"},e.user.user1!==e.current?e.user.user1:e.user.user2),r.a.createElement("div",{className:"card-body remove-padding pointer"},r.a.createElement("div",{className:"card-text text-center pointer"},"Last message sent"),r.a.createElement("div",{className:"card-text text-muted text-center pointer"},"Time of last message")))},be=a(62),he=a.n(be);a(129);var Ne=function(e){var t;function a(){S(e.id).then((function(e){console.log(e,"RESULT"),t=e.data.id,function(e){var t=document.getElementById("messages");e.messages.map((function(a){var n=document.createElement("li"),r=document.createElement("span");return r.innerHTML=a.message,a.UserId===e.id?(n.setAttribute("class","current"),r.setAttribute("class","sent")):(n.setAttribute("class","other"),r.setAttribute("class","received")),n.append(r),t.append(n),!0}))}(e.data)})).catch((function(e){console.log(e)}))}var n={roomInternal:e.active,roomListener:function(e){},set room(e){this.roomInternal=e,this.roomListener(e)},get room(){return this.roomInternal},registerListener:function(e){this.roomListener=e}},c=he()(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).PORT||"localhost:3001");return"undefined"!==typeof n.roomInternal&&n.registerListener((function(e){c.emit("join",n.room),c.emit("changeRoom"),document.getElementById("messages")&&(document.getElementById("messages").innerHTML=""),a()})),n.room=e.active,c.on("chat message",(function(e){var a=document.getElementById("messages"),n=document.createElement("li"),r=document.createElement("span");r.innerHTML=e.message,e.user===t?(n.setAttribute("class","current"),r.setAttribute("class","sent")):(n.setAttribute("class","other"),r.setAttribute("class","received")),n.append(r),a.append(n)})),r.a.createElement("div",null,r.a.createElement("div",{className:"displayArea"},r.a.createElement("ul",{id:"messages"})),r.a.createElement("div",{className:"row send"},r.a.createElement("div",{className:"col-lg-12 remove-padding"},r.a.createElement("div",{className:"input-group"},r.a.createElement("form",{id:"form",action:""},r.a.createElement("input",{id:"m",autoComplete:"off"}),r.a.createElement("button",{onClick:function(a){a.preventDefault();var n={message:document.getElementById("m").value,id:e.id};H(n).then((function(e){console.log("success")})).catch((function(e){console.log(e)}));var r={message:document.getElementById("m").value,user:t};c.emit("chat message",r),document.getElementById("m").value=""}},"Send"))))))};a(130);var ye=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),o=Object(i.a)(l,2),m=o[0],s=o[1],u=Object(n.useState)(),d=Object(i.a)(u,2),p=d[0],E=d[1],f=Object(n.useState)(),v=Object(i.a)(f,2),g=v[0],b=v[1];function h(e){E(e.currentTarget.getAttribute("value")),b(e.currentTarget.getAttribute("data-id"))}return Object(n.useEffect)((function(){B().then((function(e){console.log(e),s(e.data.logged.userName),c(e.data.chats)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("div",{className:"card chatArea"},r.a.createElement("div",{className:"card-header text-center"},"CURRENT ACTIVE CHATS"),r.a.createElement("div",{className:"card-body",id:"chatboxes"},a.map((function(e){return r.a.createElement(ge,{key:e.id,user:e,current:m,onClick:h})}))))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"card chatArea"},r.a.createElement("div",{className:"card-body remove-padding "},r.a.createElement(Ne,{active:p,id:g}))))))},Oe=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement(N,null,r.a.createElement(ye,null))}}]),a}(n.Component),je=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return r.a.createElement(N,null,r.a.createElement("p",null,"Search"))}}]),a}(n.Component);a(131);var Ie=function(e){var t=Object(o.f)();return r.a.createElement("div",{className:"container update"},r.a.createElement("div",{className:"card"},r.a.createElement("h2",{className:"text-center card-header colorHeader"},"Update User"),r.a.createElement("div",{className:"card-body colorBody"},r.a.createElement("form",{className:"update-user"},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"name-input"},r.a.createElement("h5",null,"Name")),r.a.createElement("input",{id:"name-input",className:"input form-control",type:"text",required:!0,placeholder:e.currentUser.name})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"phoneNumber-input"},r.a.createElement("h5",null,"Phone Number")),r.a.createElement("input",{className:"input form-control",id:"phoneNumber-input",type:"number",required:!0,placeholder:e.currentUser.phone}),r.a.createElement("br",null))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-12"},r.a.createElement("label",{htmlFor:"information-input"},r.a.createElement("h5",null,"General Information")),r.a.createElement("textarea",{id:"information-input",className:"input form-control",type:"text",placeholder:e.currentUser.generalInformation}))),r.a.createElement("br",null),r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{onClick:function(a){a.preventDefault();var n=document.getElementById("name-input"),r=document.getElementById("phoneNumber-input"),c=document.getElementById("information-input");""===n.value&&(n.value=e.currentUser.name),""===r.value&&(r.value=e.currentUser.phone),""===c.value&&(c.value=e.currentUser.generalInformation);var l={name:n.value.trim(),phone:r.value.trim(),generalInformation:c.value.trim()};console.log(l),function(e){q(e).then((function(){t.push("/profile")})).catch((function(e){console.log(e)}))}(l)},className:"btn btn-primary"},"Update"),"\u2003",r.a.createElement("button",{onClick:function(e){e.preventDefault(),z("/api/user").then(t.push("/"))},className:"btn btn-danger delete-user"},"Delete User"))),r.a.createElement("br",null)))))},we=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){w().then((function(e){console.log(e),c(e.data)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement(N,null,r.a.createElement(Ie,{currentUser:a}))};a(132);var xe=function(){return r.a.createElement("div",{id:"footer"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("p",{id:"copyname"},"Edward Coad ",r.a.createElement("span",{id:"copyright"},"\xa92019"))))},ke=(a(133),function(){return r.a.createElement("div",{className:"App Site"},r.a.createElement(X,null),r.a.createElement("div",{className:"Site-content"},r.a.createElement(o.a,{exact:!0,path:"/profile",component:Q}),r.a.createElement(o.a,{exact:!0,path:"/profile/:user",component:me}),r.a.createElement(o.a,{exact:!0,path:"/forums",component:ae}),r.a.createElement(o.a,{exact:!0,path:"/forums/:handle",component:ne}),r.a.createElement(o.a,{exact:!0,path:"/forums/:handle/:topic",component:ce}),r.a.createElement(o.a,{exact:!0,path:"/forums/:handle/post/topic",component:le}),r.a.createElement(o.a,{exact:!0,path:"/myPlaces",component:Z}),r.a.createElement(o.a,{exact:!0,path:"/myTopics",component:ee}),r.a.createElement(o.a,{exact:!0,path:"/mapType/:map",component:ve}),r.a.createElement(o.a,{exact:!0,path:"/chats",component:Oe}),r.a.createElement(o.a,{exact:!0,path:"/search",component:je}),r.a.createElement(o.a,{exact:!0,path:"/settings",component:we}),r.a.createElement(o.a,{exact:!0,path:"/description",component:Y})),r.a.createElement(xe,null))});var Ce=function(){return r.a.createElement(m.a,null,r.a.createElement(f,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:W}),r.a.createElement(o.a,{exact:!0,path:"/register",component:J}),r.a.createElement(o.a,{component:ke}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},46:function(e,t,a){},64:function(e,t,a){e.exports=a(134)},69:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.98392e4b.chunk.js.map